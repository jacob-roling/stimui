{"mappings":"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","sources":["packages/stimui/src/index.js","packages/stimui/src/components/disclosure.js","packages/stimui/src/components/utils/index.js","packages/stimui/src/components/utils/useFocus.js","packages/stimui/src/components/utils/useID.js","packages/stimui/src/components/checkbox.js","packages/stimui/src/components/toast.js","packages/stimui/src/components/tooltip.js"],"sourcesContent":["import Disclosure from \"./components/disclosure\";\nimport Checkbox from \"./components/checkbox\";\nimport Toast from \"./components/toast\";\nimport Tooltip from \"./components/tooltip\";\n\n/**\n * @function registerComponents\n * @param {import(\"@hotwired/stimulus\").Application} stimulusApplication\n * @returns {void}\n */\nexport function registerComponents(stimulusApplication) {\n  stimulusApplication.register(\"disclosure\", Disclosure);\n  stimulusApplication.register(\"checkbox\", Checkbox);\n  stimulusApplication.register(\"toast\", Toast);\n  stimulusApplication.register(\"tooltip\", Tooltip);\n}\n","import { Controller } from \"@hotwired/stimulus\";\r\nimport { useID } from \"./utils\";\r\n\r\nexport default class Disclosure extends Controller {\r\n  static targets = [\"button\", \"panel\"];\r\n  static values = {\r\n    requireFocus: { type: Boolean, default: true },\r\n  };\r\n\r\n  initialize() {\r\n    this.abortController = new AbortController();\r\n    this.id = useID();\r\n  }\r\n\r\n  connect() {\r\n    this.abortController = new AbortController();\r\n    this.buttonTarget.setAttribute(\"aria-controls\", this.panelTarget.id);\r\n    \r\n    if (this.requireFocusValue) {\r\n      this.element.addEventListener(\"focusout\", this.focusout.bind(this), {\r\n        signal: this.abortController.signal,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {KeyboardEvent} event\r\n   */\r\n  keydown(event) {\r\n    switch (event.code) {\r\n      case \"Space\":\r\n        event.preventDefault();\r\n        this.toggle();\r\n        break;\r\n      case \"Enter\":\r\n        event.preventDefault();\r\n        this.toggle();\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {FocusEvent} event\r\n   */\r\n  focusout(event) {\r\n    if (event.relatedTarget && !this.element.contains(event.relatedTarget)) {\r\n      this.close()\r\n    }\r\n  }\r\n\r\n  toggle() {\r\n    if (\r\n      this.buttonTarget.hasAttribute(\"aria-expanded\") &&\r\n      this.buttonTarget.getAttribute(\"aria-expanded\") !== \"false\"\r\n    ) {\r\n      return this.close();\r\n    }\r\n\r\n    this.open();\r\n  }\r\n\r\n  open() {\r\n    this.buttonTarget.setAttribute(\"aria-expanded\", \"true\");\r\n    this.panelTarget.setAttribute(\"data-expanded\", \"true\");\r\n  }\r\n\r\n  close() {\r\n    this.buttonTarget.setAttribute(\"aria-expanded\", \"false\");\r\n    this.panelTarget.removeAttribute(\"data-expanded\");\r\n  }\r\n\r\n  buttonTargetConnected(button) {\r\n    button.addEventListener(\"click\", this.toggle.bind(this), {\r\n      signal: this.abortController.signal,\r\n    });\r\n\r\n    button.addEventListener(\"keydown\", this.keydown.bind(this), {\r\n      signal: this.abortController.signal,\r\n    });\r\n  }\r\n\r\n  panelTargetConnected(panel) {\r\n    if (!panel.hasAttribute(\"id\")) {\r\n      panel.setAttribute(\"id\", this.id(\"panel\"));\r\n    }\r\n  }\r\n\r\n  disconnect() {\r\n    this.abortController.abort();\r\n  }\r\n}\r\n","export * from \"./useFocus\";\nexport * from \"./useID\";\n","// This code is a minimal adaptation of @alpinejs/focus for use with @hotwired/stimulus\n// See https://github.com/alpinejs/alpine/blob/main/packages/focus/src/index.js for the original code\n// Copyright Â© 2019-2021 Caleb Porzio and contributors\n// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nimport { focusable, isFocusable } from \"tabbable\";\n\nlet lastFocused = null;\nlet currentFocused = null;\n\nwindow.addEventListener(\n  \"focusin\",\n  () => {\n    lastFocused = currentFocused;\n    currentFocused = document.activeElement;\n  },\n  {\n    once: true,\n  }\n);\n\nexport class FocusController {\n  constructor(el) {\n    this.__within = el;\n    this.__noscroll = false;\n    this.__wrapAround = false;\n  }\n\n  within(el) {\n    this.__within = el;\n    return this;\n  }\n\n  withoutScrolling() {\n    this.__noscroll = true;\n    return this;\n  }\n\n  noscroll() {\n    this.__noscroll = true;\n    return this;\n  }\n\n  withWrapAround() {\n    this.__wrapAround = true;\n    return this;\n  }\n\n  wrap() {\n    return this.withWrapAround();\n  }\n\n  focusable(el) {\n    return isFocusable(el);\n  }\n\n  previouslyFocused() {\n    return lastFocused;\n  }\n\n  lastFocused() {\n    return lastFocused;\n  }\n\n  focused() {\n    return currentFocused;\n  }\n\n  focusables() {\n    if (Array.isArray(this.__within)) return this.__within;\n\n    return focusable(this.__within, { displayCheck: \"none\" });\n  }\n\n  all() {\n    return this.focusables();\n  }\n\n  isFirst(el) {\n    let els = this.all();\n\n    return els[0] && els[0].isSameNode(el);\n  }\n\n  isLast(el) {\n    let els = this.all();\n\n    return els.length && els.slice(-1)[0].isSameNode(el);\n  }\n\n  getFirst() {\n    return this.all()[0];\n  }\n\n  getLast() {\n    return this.all().slice(-1)[0];\n  }\n\n  getNext() {\n    let list = this.all();\n    let current = document.activeElement;\n\n    // Can't find currently focusable HTMLElement in list.\n    if (list.indexOf(current) === -1) return;\n\n    // This is the last HTMLElement in the list and we want to wrap around.\n    if (this.__wrapAround && list.indexOf(current) === list.length - 1) {\n      return list[0];\n    }\n\n    return list[list.indexOf(current) + 1];\n  }\n\n  getPrevious() {\n    let list = this.all();\n    let current = document.activeElement;\n\n    // Can't find currently focusable HTMLElement in list.\n    if (list.indexOf(current) === -1) return;\n\n    // This is the first HTMLElement in the list and we want to wrap around.\n    if (this.__wrapAround && list.indexOf(current) === 0) {\n      return list.slice(-1)[0];\n    }\n\n    return list[list.indexOf(current) - 1];\n  }\n\n  first() {\n    this.focus(this.getFirst());\n  }\n\n  last() {\n    this.focus(this.getLast());\n  }\n\n  next() {\n    this.focus(this.getNext());\n  }\n\n  previous() {\n    this.focus(this.getPrevious());\n  }\n\n  prev() {\n    return this.previous();\n  }\n\n  focus(el) {\n    if (!el) return;\n\n    setTimeout(() => {\n      if (!el.hasAttribute(\"tabindex\")) el.setAttribute(\"tabindex\", \"0\");\n\n      el.focus({ preventScroll: this.__noscroll });\n    });\n  }\n}\n\nexport function useFocus(element) {\n  return new FocusController(element);\n}\n\nfunction setInert(el) {\n  let undos = [];\n\n  crawlSiblingsUp(el, (sibling) => {\n    let cache = sibling.hasAttribute(\"aria-hidden\");\n\n    sibling.setAttribute(\"aria-hidden\", \"true\");\n\n    undos.push(() => cache || sibling.removeAttribute(\"aria-hidden\"));\n  });\n\n  return () => {\n    while (undos.length) undos.pop()();\n  };\n}\n\nfunction crawlSiblingsUp(el, callback) {\n  if (el.isSameNode(document.body) || !el.parentNode) return;\n\n  Array.from(el.parentNode.children).forEach((sibling) => {\n    if (sibling.isSameNode(el)) {\n      crawlSiblingsUp(el.parentNode, callback);\n    } else {\n      callback(sibling);\n    }\n  });\n}\n\nfunction disableScrolling() {\n  let overflow = document.documentElement.style.overflow;\n  let paddingRight = document.documentElement.style.paddingRight;\n\n  let scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n\n  document.documentElement.style.overflow = \"hidden\";\n  document.documentElement.style.paddingRight = `${scrollbarWidth}px`;\n\n  return () => {\n    document.documentElement.style.overflow = overflow;\n    document.documentElement.style.paddingRight = paddingRight;\n  };\n}\n","export function useID() {\n  const id = Math.random().toString(36).slice(2, 6);\n  return (string) => `${string}-${id}`;\n}\n","import { Controller } from \"@hotwired/stimulus\";\nimport { ref, effect } from \"@vue/reactivity\";\n\nexport default class Checkbox extends Controller {\n  static values = {\n    mixed: { type: Boolean, default: false },\n  };\n\n  connect() {\n    this.abortController = new AbortController();\n\n    this.element.addEventListener(\"click\", this.toggle.bind(this), {\n      signal: this.abortController.signal,\n    });\n\n    this.element.addEventListener(\"keydown\", this.keydown.bind(this), {\n      signal: this.abortController.signal,\n    });\n\n    this.element.setAttribute(\"role\", \"checkbox\");\n    this.element.setAttribute(\"tabindex\", \"0\");\n\n    this.ariaChecked = ref(\n      this.element.getAttribute(\"aria-checked\") ?? \"false\"\n    );\n\n    effect(() => {\n      this.element.setAttribute(\"aria-checked\", this.ariaChecked.value);\n    });\n  }\n\n  toggle() {\n    switch (this.ariaChecked.value) {\n      case \"true\":\n        this.ariaChecked.value = \"false\";\n        break;\n      case \"false\":\n        if (this.mixedValue) {\n          this.ariaChecked.value = \"mixed\";\n        } else {\n          this.ariaChecked.value = \"true\";\n        }\n        break;\n      case \"mixed\":\n        this.ariaChecked.value = \"true\";\n        break;\n    }\n  }\n\n  keydown(event) {\n    switch (event.code) {\n      case \"Space\":\n        event.preventDefault();\n        this.toggle();\n        break;\n      case \"Enter\":\n        event.preventDefault();\n        this.toggle();\n        break;\n    }\n  }\n\n  disconnect() {\n    this.abortController.abort();\n  }\n}\n","import { Controller } from \"@hotwired/stimulus\";\n\nconst VISIBLE_TOASTS_AMOUNT = 3;\nconst SWIPE_THRESHOLD = 20;\nconst VELOCITY_THRESHHOLD = 0.11;\nconst TOAST_LIFETIME = 4000;\nconst TIME_BEFORE_UNMOUNT = 200;\nconst COLLAPSE_DEBOUNCE_TIME = 100;\nconst GAP = 14;\n\nexport default class Toast extends Controller {\n  static targets = [\"section\", \"list\", \"item\"];\n\n  initialize() {\n    this.listObserver = new MutationObserver(this.updateList.bind(this));\n    this.dismissTimeouts = [];\n  }\n\n  /**\n   * @param {HTMLElement} element\n   */\n  itemTargetConnected(element) {\n    element.setAttribute(\"aria-live\", \"polite\");\n    element.setAttribute(\"aria-atomic\", \"true\");\n    element.setAttribute(\"role\", \"status\");\n    element.setAttribute(\"tabindex\", \"0\");\n    element.setAttribute(\"data-visible\", \"\");\n  }\n\n  /**\n   * @param {HTMLElement} element\n   */\n  sectionTargetConnected(element) {\n    element.setAttribute(\"aria-label\", \"Notifications alt+T\");\n    element.setAttribute(\"tabindex\", \"-1\");\n  }\n\n  /**\n   * @param {HTMLElement} element\n   */\n  listTargetConnected(element) {\n    element.setAttribute(\"tabindex\", \"-1\");\n    element.style.setProperty(\"--gap\", `${GAP}px`);\n    this.listObserver.observe(element, {\n      childList: true,\n      subtree: true,\n    });\n  }\n\n  expand() {\n    while (this.dismissTimeouts.length > 0) {\n      clearTimeout(this.dismissTimeouts.pop());\n    }\n    clearTimeout(this.collapseTimeout);\n    Array.from(this.listTarget.children).forEach((toast) => {\n      toast.setAttribute(\"data-expanded\", \"\");\n    });\n  }\n\n  collapse() {\n    this.collapseTimeout = setTimeout(() => {\n      Array.from(this.listTarget.children).forEach((toast, index) => {\n        toast.removeAttribute(\"data-expanded\");\n        this.dismissTimeouts.push(\n          setTimeout(() => {\n            this.dismiss(toast);\n          }, TOAST_LIFETIME + index * 500)\n        );\n      });\n    }, COLLAPSE_DEBOUNCE_TIME);\n  }\n\n  swipeStart(toast, event) {\n    toast.setAttribute(\"data-swiping\", \"\");\n    toast.setPointerCapture(event.pointerId);\n    this.pointerStart = event;\n    this.pointerStart.time = new Date().getTime();\n  }\n\n  swipeMove(toast, event) {\n    if (this.pointerStart) {\n      this.swipeAmount = -Math.min(this.pointerStart.y - event.y, 0);\n      toast.style.setProperty(\"--swipe-amount\", `${this.swipeAmount}px`);\n    }\n  }\n\n  swipeEnd(toast, event) {\n    toast.removeAttribute(\"data-swiping\");\n    toast.releasePointerCapture(event.pointerId);\n    const timeTaken = new Date().getTime() - this.pointerStart.time;\n    const velocity = this.swipeAmount / timeTaken;\n    toast.style.setProperty(\"--swipe-amount\", \"0px\");\n    if (\n      this.swipeAmount >= SWIPE_THRESHOLD ||\n      velocity >= VELOCITY_THRESHHOLD\n    ) {\n      this.dismiss(toast);\n    }\n  }\n\n  /**\n   * @param {HTMLElement} element\n   */\n  dismiss(toast) {\n    toast.removeEventListener(\"pointerdown\", this.swipeStart.bind(this, toast));\n    toast.removeEventListener(\"pointermove\", this.swipeMove.bind(this, toast));\n    toast.removeEventListener(\"pointerup\", this.swipeEnd.bind(this, toast));\n    toast.removeEventListener(\"pointerenter\", this.expand.bind(this));\n    toast.removeEventListener(\"pointerleave\", this.collapse.bind(this));\n    toast.removeAttribute(\"data-mounted\");\n\n    setTimeout(() => {\n      toast.remove();\n    }, TIME_BEFORE_UNMOUNT);\n  }\n\n  updateList(records) {\n    for (const record of records) {\n      if (record.addedNodes.length > 0) {\n        // Toast added to the list\n        /**\n         * @type {HTMLElement}\n         */\n        const frontToast = Array.from(record.addedNodes).filter(\n          (node) => node.nodeType === Node.ELEMENT_NODE\n        )[0];\n\n        this.dismissTimeouts.push(\n          setTimeout(() => {\n            this.dismiss(frontToast);\n          }, TOAST_LIFETIME)\n        );\n\n        frontToast.addEventListener(\n          \"pointerdown\",\n          this.swipeStart.bind(this, frontToast)\n        );\n        frontToast.addEventListener(\n          \"pointermove\",\n          this.swipeMove.bind(this, frontToast)\n        );\n        frontToast.addEventListener(\n          \"pointerup\",\n          this.swipeEnd.bind(this, frontToast)\n        );\n        frontToast.addEventListener(\"pointerenter\", this.expand.bind(this));\n        frontToast.addEventListener(\"pointerleave\", this.collapse.bind(this));\n\n        // const dismissTimeout = setTimeout(() => {\n        //   this.dismiss(frontToast);\n        //   clearTimeout(dismissTimeout);\n        // }, TOAST_LIFETIME);\n\n        const frontToastRect = frontToast.getBoundingClientRect();\n\n        let offset = 0;\n\n        requestAnimationFrame(() => {\n          setTimeout(() => {\n            frontToast.setAttribute(\"data-mounted\", \"\");\n          });\n        });\n\n        frontToast.style.setProperty(\n          \"--initial-height\",\n          `${frontToastRect.height}px`\n        );\n\n        for (let i = this.listTarget.children.length - 1; i >= 0; i--) {\n          const toast = this.listTarget.children[i];\n\n          toast.removeAttribute(\"data-front\");\n\n          if (i < this.listTarget.children.length - VISIBLE_TOASTS_AMOUNT) {\n            toast.removeAttribute(\"data-visible\");\n          }\n\n          toast.style.setProperty(\n            \"--toasts-before\",\n            this.listTarget.children.length - i - 1\n          );\n\n          toast.style.setProperty(\n            \"--front-height\",\n            `${frontToastRect.height}px`\n          );\n\n          toast.style.setProperty(\n            \"--offset\",\n            `${offset + GAP * (this.listTarget.children.length - i - 1)}px`\n          );\n\n          offset += parseInt(\n            getComputedStyle(toast)\n              .getPropertyValue(\"--initial-height\")\n              .slice(0, -2)\n          );\n\n          toast.style.setProperty(\"--z-index\", i);\n        }\n\n        frontToast.setAttribute(\"data-front\", \"\");\n      }\n\n      if (\n        record.removedNodes.length > 0 &&\n        this.listTarget.children.length > 0\n      ) {\n        // Toast removed from the list\n        /**\n         * @type {HTMLElement}\n         */\n        const frontToast =\n          this.listTarget.children[this.listTarget.children.length - 1];\n\n        const frontToastRect = frontToast.getBoundingClientRect();\n\n        let offset = 0;\n\n        for (let i = this.listTarget.children.length - 1; i >= 0; i--) {\n          const toast = this.listTarget.children[i];\n\n          toast.removeAttribute(\"data-front\");\n\n          if (i < this.listTarget.children.length - VISIBLE_TOASTS_AMOUNT) {\n            toast.removeAttribute(\"data-visible\");\n          }\n\n          toast.style.setProperty(\n            \"--toasts-before\",\n            this.listTarget.children.length - i - 1\n          );\n\n          toast.style.setProperty(\n            \"--front-height\",\n            `${frontToastRect.height}px`\n          );\n\n          toast.style.setProperty(\n            \"--offset\",\n            `${offset + GAP * (this.listTarget.children.length - i - 1)}px`\n          );\n\n          offset += parseInt(\n            getComputedStyle(toast)\n              .getPropertyValue(\"--initial-height\")\n              .slice(0, -2)\n          );\n\n          toast.style.setProperty(\"--z-index\", i);\n        }\n\n        frontToast.setAttribute(\"data-front\", \"\");\n      }\n    }\n  }\n\n  show({ params: { templateId } }) {\n    const template = document.getElementById(templateId);\n    const itemFragment = template.content.cloneNode(true);\n    this.listTarget.appendChild(itemFragment);\n  }\n\n  disconnect() {\n    this.listObserver.disconnect();\n  }\n}\n","import { Controller } from \"@hotwired/stimulus\";\nimport {\n  autoUpdate,\n  computePosition,\n  flip,\n  shift,\n  offset,\n} from \"@floating-ui/dom\";\n\nexport default class Tooltip extends Controller {\n  static targets = [\"tooltip\"];\n  static values = {\n    placement: { type: String, default: \"bottom\" },\n  };\n\n  /**\n   * @param {HTMLElement} tooltip\n   */\n  tooltipTargetConnected(tooltip) {\n    const tooltipStyle = getComputedStyle(tooltip);\n\n    const offsetValue = parseInt(\n      tooltipStyle.getPropertyValue(\"--tooltip-offset\")\n    );\n    console.log(offsetValue);\n\n    const paddingValue = parseInt(\n      tooltipStyle.getPropertyValue(\"--tooltip-padding\")\n    );\n\n    this.cleanup = autoUpdate(this.element, tooltip, () => {\n      computePosition(this.element, tooltip, {\n        placement: this.placementValue,\n        middleware: [\n          offset(offsetValue),\n          flip({ padding: paddingValue }),\n          shift({ padding: paddingValue }),\n        ],\n      }).then(({ x, y }) => {\n        Object.assign(tooltip.style, {\n          left: `${x}px`,\n          top: `${y}px`,\n        });\n      });\n    });\n  }\n\n  disconnect() {\n    if (this.cleanup) {\n      this.cleanup();\n    }\n  }\n}\n"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"../../../"}